{% extends 'base.html.twig' %}

{% block title %}Quiz - {{ topic }}{% endblock %}


{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
{{ encore_entry_link_tags('app') }}
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            throwOnError: false
        });
    });
</script>
<!-- <p>\(\frac{3}{5}\) - \(\frac{2x + 12}{3}\) \(\geq\) \(\frac{x}{6}\)</p>-->
<!-- <p>\(\frac{x+3}{2}\) = 2 - \(\frac{x-2}{4}\)</p>-->

<div id="app">

{% set recordsArray = [] %}
{% set recordsArrayAnswer = [] %}
{% set answerbad = [] %}
{% set answerbadfirst = [] %}
{% set answerbadsecond = [] %}

{% for record in records %}
    {% set recordsArray = recordsArray|merge([{
        'question': record.getQuestion(),
    
    }]) %}
     {% set recordsArrayAnswer = recordsArrayAnswer|merge([{
        'answer': record.getAnswear(),
    
    }]) %}
    {% set answerbad = answerbad|merge([{
        'answerBad': record.getAnswerBad1(),
        
    }]) %}


     {% set answerbadfirst = answerbadfirst|merge([{
        'answerBad': record.getAnswerBad2(),
    
    }]) %}
    {% set answerbadsecond = answerbadsecond|merge([{
        'answerBad': record.getAnswerBad3(),
        
    }]) %}
{% endfor %}

{% set csrf_token = csrf_token('save_score') %}
    {{ dump(topicId, "aa") }}
    {{ dump(csrf_token) }}
       <div id="quiz-app">
            <Quizz
                :records='{{ recordsArray|json_encode }}'
                :answer='{{ recordsArrayAnswer|json_encode}}'
                :answerbad="{{ answerbad|json_encode }}"
                :answerbadfirst="{{ answerbadfirst|json_encode }}"
                :answerbadsecond="{{ answerbadsecond|json_encode }}"
                :topic="{{ topic|json_encode }}"
                :selected-image="{{ selectedImage|json_encode }}"
                :csrf-token="{{ csrf_token('save_score')|json_encode}}"
                :save-score-url="{{ path('save_score')|json_encode }}"
            ></Quizz>
    </div>
</div>
<!-- Przykładowe wyrażenie matematyczne -->

{% endblock %}
